;define(function(require){'use strict';var n=require('backbone'),c=require('root/config'),l=require('underscore'),i=require('core/app-utils');require('localstorage');var o='AppDynamicData-'+c.app_slug,r=n.Model.extend({localStorage:new n.LocalStorage(o),defaults:{id:''}});var a=new r({id:o});var t={};t.initialize=function(e){a.fetch({success:function(a){i.log('App dynamic data retrieved from local storage.',a);e(a.toJSON())},error:function(a){i.log('No app dynamic data found in local storage.',a);e()}})};t.setDynamicDataFromWebService=function(e){a.clear();a.set({id:o});a.set(e);a.save()};t.getDynamicData=function(e){var t={};if(e!==undefined){t=a.get(e)}else{t=a.toJSON();delete(t.id)};return t};return t});