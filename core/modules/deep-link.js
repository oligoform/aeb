;define(function(require){'use strict';var l=require('core/lib/parse-uri'),u=require('core/app-utils'),o=require('core/lib/hooks'),n={};var e={};var r='',a=function(r){if(Object.keys(e).length>0){u.log('Adding query string parameters to template args',e);r.query_string=e};o.removeFilter('template-args',a);return r};n.getLaunchRoute=function(){if(wpak_open_url.length){if(!r.length){var t=l.parse(wpak_open_url);if(t.host.length>0){r='#'+t.host+t.path;u.log('Launch route updated from deep link URL',{launch_route:r,wpak_open_url:wpak_open_url});e=t.queryKey}};if(e.length){o.addFilter('template-args',a)}};return r};n.reset=function(){wpak_open_url='';e={};r=''};return n});